fragment Reference on Reference {
    referenceOrdinal
    doi
    unstructuredCitation
    issn
    isbn
    journalTitle
    articleTitle
    seriesTitle
    volumeTitle
    edition
    author
    volume
    issue
    firstPage
    componentNumber
    standardDesignator
    standardsBodyName
    standardsBodyAcronym
    publicationDate
}

fragment Work on Work {
    workId
    workStatus
    fullTitle
    title
    subtitle
    workType
    edition
    doi
    publicationDate
    license
    copyrightHolder
    shortAbstract
    longAbstract
    generalNote
    place
    pageCount
    pageBreakdown
    firstPage
    lastPage
    pageInterval
    imageCount
    tableCount
    audioCount
    videoCount
    landingPage
    toc
    lccn
    oclc
    coverUrl
    coverCaption
    imprint {
        imprintName
        publisher {
            publisherName
            publisherUrl
        }
    }
    issues(limit: $issuesLimit) {
        issueOrdinal
        series {
            seriesType
            seriesName
            issnPrint
            issnDigital
            seriesUrl
            seriesDescription
            seriesCfpUrl
        }
    }
    contributions {
        contributionType
        firstName
        lastName
        fullName
        mainContribution
        biography
        contributionOrdinal
        contributor {
            orcid
        }
        affiliations {
            position
            affiliationOrdinal
            institution {
                institutionName
            }
        }
    }
    languages(limit: $languagesLimit) {
        languageCode
        languageRelation
        mainLanguage
    }
    publications(limit: $publicationsLimit) {
        publicationId
        publicationType
        isbn
        weightG: weight(units: G)
        weightOz: weight(units: OZ)
        widthMm: width(units: MM)
        widthCm: width(units: CM)
        widthIn: width(units: IN)
        heightMm: height(units: MM)
        heightCm: height(units: CM)
        heightIn: height(units: IN)
        depthMm: depth(units: MM)
        depthCm: depth(units: CM)
        depthIn: depth(units: IN)
        prices {
            currencyCode
            unitPrice
        }
        locations {
            landingPage
            fullTextUrl
            locationPlatform
            canonical
        }
    }
    subjects(limit: $subjectsLimit) {
        subjectCode
        subjectType
        subjectOrdinal
    }
    fundings(limit: $fundingsLimit) {
        program
        projectName
        projectShortname
        grantNumber
        jurisdiction
        institution {
            institutionName
            institutionDoi
            ror
            countryCode
        }
    }
    relations(limit: $relationsLimit) {
        relationType
        relationOrdinal
        relatedWork {
            fullTitle
            title
            subtitle
            edition
            doi
            publicationDate
            license
            place
            firstPage
            lastPage
            landingPage
            imprint {
                publisher {
                    publisherName
                }
            }
            contributions {
                contributionType
                firstName
                lastName
                contributionOrdinal
                contributor {
                    orcid
                }
            }
            publications {
                publicationType
                isbn
                locations {
                    fullTextUrl
                    canonical
                }
            }
            references(limit: $referencesLimit, order: {field: REFERENCE_ORDINAL, direction: ASC}) {
                ...Reference
            }
        }
    }
    references(limit: $referencesLimit, order: {field: REFERENCE_ORDINAL, direction: ASC}) {
        ...Reference
    }
}

query WorkQuery(
    $workId: Uuid!,
    $issuesLimit: Int!,
    $languagesLimit: Int!,
    $publicationsLimit: Int!,
    $subjectsLimit: Int!,
    $fundingsLimit: Int!,
    $relationsLimit: Int!,
    $referencesLimit: Int!
) {
    work(workId: $workId) {
        ...Work
    }
}
query WorksQuery(
    $publishers: [Uuid!],
    $issuesLimit: Int!,
    $languagesLimit: Int!,
    $publicationsLimit: Int!,
    $subjectsLimit: Int!,
    $fundingsLimit: Int!,
    $relationsLimit: Int!,
    $referencesLimit: Int!
) {
    works(limit: 99999, publishers: $publishers) {
        ...Work
    }
}